{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ethUtil = require(\"ethereumjs-util\");\n\nvar _ = require(\"lodash\");\n\nvar configured_bignumber_1 = require(\"../../../configured_bignumber\");\n\nvar set_1 = require(\"../../calldata/blocks/set\");\n\nvar constants_1 = require(\"../../utils/constants\");\n\nvar data_type_1 = require(\"../data_type\");\n\nvar pointer_1 = require(\"./pointer\");\n\nvar AbstractSetDataType =\n/** @class */\nfunction (_super) {\n  __extends(AbstractSetDataType, _super);\n\n  function AbstractSetDataType(dataItem, factory, isArray, arrayLength, arrayElementType) {\n    var _a, _b;\n\n    if (isArray === void 0) {\n      isArray = false;\n    }\n\n    var _this = _super.call(this, dataItem, factory) || this;\n\n    _this._memberIndexByName = {};\n    _this._members = [];\n    _this._isArray = isArray;\n    _this._arrayLength = arrayLength;\n    _this._arrayElementType = arrayElementType;\n\n    if (isArray && arrayLength !== undefined) {\n      _a = __read(_this._createMembersWithLength(dataItem, arrayLength), 2), _this._members = _a[0], _this._memberIndexByName = _a[1];\n    } else if (!isArray) {\n      _b = __read(_this._createMembersWithKeys(dataItem), 2), _this._members = _b[0], _this._memberIndexByName = _b[1];\n    }\n\n    return _this;\n  }\n\n  AbstractSetDataType.prototype.generateCalldataBlock = function (value, parentBlock) {\n    var block = value instanceof Array ? this._generateCalldataBlockFromArray(value, parentBlock) : this._generateCalldataBlockFromObject(value, parentBlock);\n    return block;\n  };\n\n  AbstractSetDataType.prototype.generateValue = function (calldata, rules) {\n    var _this = this;\n\n    var _a;\n\n    var members = this._members; // Case 1: This is an array of undefined length, which means that `this._members` was not\n    //         populated in the constructor. So we must construct the set of members now.\n\n    if (this._isArray && this._arrayLength === undefined) {\n      var arrayLengthBuf = calldata.popWord();\n      var arrayLengthHex = ethUtil.bufferToHex(arrayLengthBuf);\n      var arrayLength = new configured_bignumber_1.BigNumber(arrayLengthHex, constants_1.constants.HEX_BASE);\n      _a = __read(this._createMembersWithLength(this.getDataItem(), arrayLength.toNumber()), 1), members = _a[0];\n    } // Create a new scope in the calldata, before descending into the members of this set.\n\n\n    calldata.startScope();\n    var value;\n\n    if (rules.shouldConvertStructsToObjects && !this._isArray) {\n      // Construct an object with values for each member of the set.\n      value = {};\n\n      _.each(this._memberIndexByName, function (idx, key) {\n        var member = _this._members[idx];\n        var memberValue = member.generateValue(calldata, rules);\n        value[key] = memberValue;\n      });\n    } else {\n      // Construct an array with values for each member of the set.\n      value = [];\n\n      _.each(members, function (member, idx) {\n        var memberValue = member.generateValue(calldata, rules);\n        value.push(memberValue);\n      });\n    } // Close this scope and return tetheh value.\n\n\n    calldata.endScope();\n    return value;\n  };\n\n  AbstractSetDataType.prototype.isStatic = function () {\n    // An array with an undefined length is never static.\n    if (this._isArray && this._arrayLength === undefined) {\n      return false;\n    } // If any member of the set is a pointer then the set is not static.\n\n\n    var dependentMember = _.find(this._members, function (member) {\n      return member instanceof pointer_1.AbstractPointerDataType;\n    });\n\n    var isStatic = dependentMember === undefined;\n    return isStatic;\n  };\n\n  AbstractSetDataType.prototype.getDefaultValue = function (rules) {\n    var _this = this;\n\n    var defaultValue;\n\n    if (this._isArray && this._arrayLength === undefined) {\n      defaultValue = [];\n    } else if (rules !== undefined && rules.shouldConvertStructsToObjects && !this._isArray) {\n      defaultValue = {};\n\n      _.each(this._memberIndexByName, function (idx, key) {\n        var member = _this._members[idx];\n        var memberValue = member.getDefaultValue();\n        defaultValue[key] = memberValue;\n      });\n    } else {\n      defaultValue = [];\n\n      _.each(this._members, function (member, idx) {\n        var memberValue = member.getDefaultValue();\n        defaultValue.push(memberValue);\n      });\n    }\n\n    return defaultValue;\n  };\n\n  AbstractSetDataType.prototype._generateCalldataBlockFromArray = function (value, parentBlock) {\n    var _a; // Sanity check: if the set has a defined length then `value` must have the same length.\n\n\n    if (this._arrayLength !== undefined && value.length !== this._arrayLength) {\n      throw new Error(\"Expected array of \" + JSON.stringify(this._arrayLength) + \" elements, but got array of length \" + JSON.stringify(value.length));\n    } // Create a new calldata block for this set.\n\n\n    var parentName = parentBlock === undefined ? '' : parentBlock.getName();\n    var block = new set_1.SetCalldataBlock(this.getDataItem().name, this.getSignature(), parentName); // If this set has an undefined length then set its header to be the number of elements.\n\n    var members = this._members;\n\n    if (this._isArray && this._arrayLength === undefined) {\n      _a = __read(this._createMembersWithLength(this.getDataItem(), value.length), 1), members = _a[0];\n      var lenBuf = ethUtil.setLengthLeft(ethUtil.toBuffer(\"0x\" + value.length.toString(constants_1.constants.HEX_BASE)), constants_1.constants.EVM_WORD_WIDTH_IN_BYTES);\n      block.setHeader(lenBuf);\n    } // Create blocks for members of set.\n\n\n    var memberCalldataBlocks = [];\n\n    _.each(members, function (member, idx) {\n      var memberBlock = member.generateCalldataBlock(value[idx], block);\n      memberCalldataBlocks.push(memberBlock);\n    });\n\n    block.setMembers(memberCalldataBlocks);\n    return block;\n  };\n\n  AbstractSetDataType.prototype._generateCalldataBlockFromObject = function (obj, parentBlock) {\n    var _this = this; // Create a new calldata block for this set.\n\n\n    var parentName = parentBlock === undefined ? '' : parentBlock.getName();\n    var block = new set_1.SetCalldataBlock(this.getDataItem().name, this.getSignature(), parentName); // Create blocks for members of set.\n\n    var memberCalldataBlocks = [];\n\n    _.forEach(this._memberIndexByName, function (memberIndex, memberName) {\n      if (!(memberName in obj)) {\n        throw new Error(\"Could not assign tuple to object: missing key '\" + memberName + \"' in object \" + JSON.stringify(obj));\n      }\n\n      var memberValue = obj[memberName];\n\n      var memberBlock = _this._members[memberIndex].generateCalldataBlock(memberValue, block);\n\n      memberCalldataBlocks.push(memberBlock);\n    }); // Associate member blocks with Set block.\n\n\n    block.setMembers(memberCalldataBlocks);\n    return block;\n  };\n\n  AbstractSetDataType.prototype._computeSignatureOfMembers = function (isDetailed) {\n    var _this = this; // Compute signature of members\n\n\n    var signature = \"(\";\n\n    _.each(this._members, function (member, i) {\n      signature += member.getSignature(isDetailed);\n\n      if (i < _this._members.length - 1) {\n        signature += ',';\n      }\n    });\n\n    signature += ')';\n    return signature;\n  };\n\n  AbstractSetDataType.prototype._createMembersWithKeys = function (dataItem) {\n    var _this = this; // Sanity check\n\n\n    if (dataItem.components === undefined) {\n      throw new Error(\"Tried to create a set using key/value pairs, but no components were defined by the input DataItem '\" + dataItem.name + \"'.\");\n    } // Create one member for each component of `dataItem`\n\n\n    var members = [];\n    var memberIndexByName = {};\n    var memberNames = [];\n\n    _.each(dataItem.components, function (memberItem) {\n      // If a component with `name` already exists then\n      // rename to `name_nameIdx` to avoid naming conflicts.\n      var memberName = memberItem.name;\n      var nameIdx = 0;\n\n      while (_.includes(memberNames, memberName) || _.isEmpty(memberName)) {\n        nameIdx++;\n        memberName = memberItem.name + \"_\" + nameIdx;\n      }\n\n      memberNames.push(memberName);\n      var childDataItem = {\n        type: memberItem.type,\n        name: dataItem.name + \".\" + memberName\n      };\n      var components = memberItem.components;\n\n      if (components !== undefined) {\n        childDataItem.components = components;\n      }\n\n      var child = _this.getFactory().create(childDataItem, _this);\n\n      memberIndexByName[memberName] = members.length;\n      members.push(child);\n    });\n\n    return [members, memberIndexByName];\n  };\n\n  AbstractSetDataType.prototype._createMembersWithLength = function (dataItem, length) {\n    var _this = this; // Create `length` members, deriving the type from `dataItem`\n\n\n    var members = [];\n    var memberIndexByName = {};\n\n    var range = _.range(length);\n\n    _.each(range, function (idx) {\n      var memberDataItem = {\n        type: _this._arrayElementType === undefined ? '' : _this._arrayElementType,\n        name: dataItem.name + \"[\" + idx.toString(constants_1.constants.DEC_BASE) + \"]\"\n      };\n      var components = dataItem.components;\n\n      if (components !== undefined) {\n        memberDataItem.components = components;\n      }\n\n      var memberType = _this.getFactory().create(memberDataItem, _this);\n\n      memberIndexByName[idx.toString(constants_1.constants.DEC_BASE)] = members.length;\n      members.push(memberType);\n    });\n\n    return [members, memberIndexByName];\n  };\n\n  return AbstractSetDataType;\n}(data_type_1.DataType);\n\nexports.AbstractSetDataType = AbstractSetDataType;","map":{"version":3,"mappings":"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","names":["__extends","dataItem","factory","isArray","arrayLength","arrayElementType","_super","_this","_memberIndexByName","_members","_isArray","_arrayLength","_arrayElementType","undefined","_a","_b","AbstractSetDataType","value","parentBlock","block","Array","_generateCalldataBlockFromArray","_generateCalldataBlockFromObject","calldata","rules","members","arrayLengthBuf","popWord","arrayLengthHex","ethUtil","bufferToHex","configured_bignumber_1","constants_1","HEX_BASE","startScope","shouldConvertStructsToObjects","_","each","idx","key","member","memberValue","generateValue","push","endScope","dependentMember","find","pointer_1","isStatic","defaultValue","getDefaultValue","length","Error","JSON","stringify","parentName","getName","set_1","getDataItem","name","getSignature","lenBuf","setLengthLeft","toBuffer","toString","EVM_WORD_WIDTH_IN_BYTES","setHeader","memberCalldataBlocks","memberBlock","generateCalldataBlock","setMembers","obj","forEach","memberIndex","memberName","isDetailed","signature","i","components","memberIndexByName","memberNames","memberItem","nameIdx","includes","isEmpty","childDataItem","type","child","getFactory","create","range","memberDataItem","DEC_BASE","memberType","data_type_1","exports"],"sources":["../../../../../src/abi_encoder/abstract_data_types/types/set.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}